<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cascv.oas.server.user.mapper.UserFacilityMapper">

  <select id="inquireUserFacilityByIMEI"  resultType="com.cascv.oas.server.user.model.UserFacility">
select 
    uuid
    from user_facility 
    where IMEI = #{IMEI}
  </select>
  
  <!-- insert user_facility -->
<insert id="insertUserFacility" parameterType="com.cascv.oas.server.user.model.UserFacility">
  	<selectKey resultType="java.lang.Integer" order="AFTER">
          SELECT LAST_INSERT_ID()
    </selectKey>
    insert into user_facility(
    uuid,
    IMEI,
    created
    ) values (
    #{uuid,jdbcType=VARCHAR},
    #{IMEI,jdbcType=VARCHAR},
    #{created,jdbcType=VARCHAR}
    )
</insert> 

	<!-- delete user facility -->
	<delete id="deleteUserFacility">
		delete from user_facility
		where uuid = #{uuid}
	</delete>
	
</mapper>

